!function(){if(window.avast_engagement)return;window.avast_engagement=!0;let e=!1,t=document.createElement("iframe");t.setAttribute("scrolling",!1),t.setAttribute("seamless",!0),t.setAttribute("class","messaging-iframe"),Object.assign(t.style,{display:"block",margin:"0",padding:"0",border:"0",position:"fixed","z-index":"2147483647"}),chrome.runtime.onMessage.addListener(((s,i,n)=>{if(console.log("inject message",s),"close"==s.action){if(t=t||document.querySelector(".messaging-iframe"),e=!1,t){const e=t.parentElement;e&&e.removeChild(t)}}else if("next"==s.action){if(t=t||document.querySelector(".messaging-iframe"),e=!0,t){const e=t.parentElement;e&&e.removeChild(t)}}else if("open"==s.action){if(t.src=s.url,Object.assign(t.style,s.style),s.querySelector&&s.messagePosition){const e=document.querySelector(s.querySelector);if(e)switch(s.messagePosition){case"before":e.before(t);break;case"after":e.after(t);break;case"beforeFirstChild":e.firstChild&&e.firstChild.before(t)}}else document.documentElement.appendChild(t);e=!0}else if("setStyle"==s.action)Object.assign(t.style,s.style);else if("get-ntp-version"==s.action)try{n(document.querySelector(".Version")||document.querySelector(".NonSponsoredTiles")?{ntpVersion:2}:{ntpVersion:1})}catch(e){}else"isOpened"==s.action&&n({isOpened:e})}))}();